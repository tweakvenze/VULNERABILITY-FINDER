#ifndef INCLUDE_EXPLOIT_SOCK_H_
#define INCLUDE_EXPLOIT_SOCK_H_

//gcc prog_name.c -lws2_32
#include <iostream>
#include <string.h>

#include <assert.h>
#include <netdb.h> /* getprotobyname */
#include <netinet/in.h>
#include <stdbool.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>

#if defined(_WIN32) || defined(_WIN64)
    #include <winsock2.h>
#else
	#include <sys/socket.h>
	#include <arpa/inet.h>
#endif

#include "../utils.h"
class Sock {
	static const int PACKET_SIZE = 1024;
	static const int MAX_FILE_SIZE = 256 * 1024;
	std::string hostname;
	struct sockaddr_in sockaddr_in;
	int sock;
	public:
		Sock();
		Sock(std::string &hostname , int PORT);
		void sendrequest(std::string&,std::string&);
		void sendThroughProxy(std::string &, std::string &, int, std::string &);
		void POST_sendrequest(std::string &, std::string &,const char *);
		void POST_sendThroughProxy(std::string &, std::string &, int , std::string &,char *);
		void POST_fileupload(std::string &path, std::string &Response,const char * data);
		~Sock();
};

#endif /* INCLUDE_EXPLOIT_SOCK_H_ */
